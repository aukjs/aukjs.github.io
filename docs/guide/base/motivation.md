# 设计动机

## 前端框架的思考

当下（2021-01）前端主流视图框架（Vue/React），
基本都采用了组件化的思想进行框架设计。组件化作为视图逻辑复用的最佳方式已经在大量的生产系统中得到过验证了。但是只采用组件化的项目中，我们可能发现有以下问题：
1. 组件间通信困难，父子组件需要多级传递数据，或者借助 context、provide/inject，兄弟组件则需要将状态提升到父组件；
2. 组件化相当于通过视图的组织，对逻辑进行纵向切割，业务逻辑可能会分散在各个组件中，降低可维护性。

针对这些问题，在一些大型的项目，我们可以借助状态管理框架（Vuex/Redux/Mobx 等）来解决上述问题，状态管理可以将状态抽离到一棵单一状态树中，遵循单向数据流的原则，到达一定程度的解耦，状态管理加组件化是完美的吗，当然不是：
1. 单一状态树过于笨重，无法拆分模块，多模块的逻辑代码容易耦合；
2. 状态也不都是单例的，强行设计成单例的，多了好多额外操作；
3. 心智负担高，如何设计状态，哪些需要放到状态管理框架中，这些都需要思考；

如上所述，虽然借助状态管理工具，可以达到状态或者说业务逻辑和视图逻辑的分层，但依然存在一些问题。

## bizic 的设计思想

我们一直从状态和视图的角度，来思考前端逻辑的组织方式，换一个角度，我们如果首先将逻辑划分模块，在模块基础上拆分视图逻辑和业务逻辑，整个组织方式就会清晰很多。
bizic 抽象 service 的概念，可以将业务逻辑抽离到 service，让视图框架专注于视图逻辑。如下所示：

![Provider Tree](_media/bizic.drawio.svg ':class=img-center')
